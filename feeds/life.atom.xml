<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Shangfute's Blog</title><link href="http://shangfute.github.com/" rel="alternate"></link><link href="http://shangfute.github.com/feeds/life.atom.xml" rel="self"></link><id>http://shangfute.github.com/</id><updated>2016-05-14T15:37:57+08:00</updated><entry><title>英语学习</title><link href="http://shangfute.github.com/learn-english.html" rel="alternate"></link><published>2016-05-14T15:37:57+08:00</published><author><name>尚福特</name></author><id>tag:shangfute.github.com,2016-05-14:learn-english.html</id><summary type="html">&lt;p&gt;任务：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过李夏师兄推荐的欧路词典积累两万单词量，简直太好用了。&lt;/li&gt;
&lt;li&gt;循序渐进地读完21本书。&lt;/li&gt;
&lt;/ol&gt;</summary><category term="english"></category><category term="daily"></category><category term="learn"></category></entry><entry><title>[Encrypted] Think flow</title><link href="http://shangfute.github.com/think-flow.html" rel="alternate"></link><published>2016-05-12T15:37:57+08:00</published><author><name>尚福特</name></author><id>tag:shangfute.github.com,2016-05-12:think-flow.html</id><summary type="html">&lt;div id="pec-encrypted-content" style="display:none"&gt;3XuFzHPomEInBYXiReP7Ig==;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;^&lt;/div&gt;
&lt;div id="pec-decrypted-content"&gt;
    &lt;h4&gt;&lt;i&gt;This content is encrypted.&lt;/i&gt;&lt;/h4&gt;
&lt;/div&gt;

&lt;form id="pec-decrypt-form"&gt;
    &lt;label for="pec-content-password"&gt;Password&lt;/label&gt;
    &lt;input type="password" id="pec-content-password" placeholder="Password" /&gt;
    &lt;button type="button" id="pec-decrypt-content"&gt;Decrypt&lt;/button&gt;
&lt;/form&gt;


    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/core.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-base64.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/cipher-core.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/pad-nopadding.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/md5.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/aes.js"&gt;&lt;/script&gt;


&lt;script type="text/javascript"&gt;
    (function () {
        var strip_padding = function (padded_content, padding_char) {
            /*
             * Strips the padding character from decrypted content.
             */
            for (var i = padded_content.length; i &gt; 0; i--) {
                if (padded_content[i-1] !== padding_char) {
                    return padded_content.slice(0, i);
                }
            }
        };

        var decrypt_content = function (password, iv_b64, ciphertext_b64, padding_char) {
            /*
             * Decrypts the content from the ciphertext bundle.
             */
            var key = CryptoJS.MD5(password),
                iv = CryptoJS.enc.Base64.parse(iv_b64),
                ciphertext = CryptoJS.enc.Base64.parse(ciphertext_b64),
                bundle = {
                    key: key,
                    iv: iv,
                    ciphertext: ciphertext
                };

            var plaintext = CryptoJS.AES.decrypt(bundle, key, {iv: iv, padding: CryptoJS.pad.NoPadding});

            try {
                return strip_padding(plaintext.toString(CryptoJS.enc.Utf8), padding_char);
            }
            catch (err) {
                // encoding failed; wrong password
                return false;
            }
        };

        var init_decryptor = function() {
            var decrypt_btn = document.getElementById('pec-decrypt-content'),
                password_input = document.getElementById('pec-content-password'),
                encrypted_content = document.getElementById('pec-encrypted-content'),
                decrypted_content = document.getElementById('pec-decrypted-content'),
                decrypt_form = document.getElementById('pec-decrypt-form');

            decrypt_btn.addEventListener('click', function () {
                // grab the ciphertext bundle
                var parts = encrypted_content.innerHTML.split(';');

                // decrypt it
                var content = decrypt_content(
                    password_input.value,
                    parts[0],
                    parts[1],
                    parts[2]
                );

                if (content) {
                    // success; display the decrypted content
                    decrypted_content.innerHTML = content;
                    decrypt_form.parentNode.removeChild(decrypt_form);
                    encrypted_content.parentNode.removeChild(encrypted_content);

                    // any post processing on the decrypted content should be done here
                }
                else {
                    // ¯\_(ツ)_/¯
                    password_input.value = '';
                }
            });
        };

        document.addEventListener('DOMContentLoaded', init_decryptor);
    })();
&lt;/script&gt;</summary><category term="thoughts"></category></entry></feed>